<template name="chat">
<div id="chat" class="row-fluid" style="min-height: 0px;">
  {{> chat_connections}}
  {{> chat_main}}
  {{> chat_users}}
</div>
{{> chat_input}}
</template>

<template name="chat_connections">
  <div id="chat-servers" class="span2" style="overflow: auto;">
    <ul>
      {{#each servers}}
        <li>{{ name }}
          {{> server_channels}}
        </li>
      {{/each}}
    </ul>
  </div>
</template>

<template name="server_channels">
  <ul>
    {{#each channels _id}}
      <li class="channel" data-id="{{ _id }}">{{ name }}</li>
    {{/each}}
  </ul>
</template>

<template name="chat_main">
<div id="chat-main" class="span8" style="overflow-y: auto; overflow-x: hidden;">
  <table class="table">
  {{#each channel_logs}}
    <tr>
      <td>{{from}}</td>
      <td>{{message}}</td>
    </tr>
  {{/each}}
  </table>
</div>
</template>

<template name="chat_input">
<div class="navbar-fixed-bottom" style="height: 40px;">
  <div class="navbar-inner">
    <div class="container-fluid">
      <div class="span2"></div>
      <div class="span8">
        <form id="chat-input-form">
          <input id="chat-input" name="chat_input" type="text" class="span8" style="margin-top: 5px;">
        </form>
      </div>
      <div class="span2"></div>
    </div>
  </div>
</div>
</template>

<template name="chat_users">
<div id="chat-channel-users" class="span2" style="overflow: auto;">
  <ul>
    {{#each channel_users}}
      <li class="channel-user">{{name}}</li>
    {{/each}}
  </ul>
</div>
</template>

